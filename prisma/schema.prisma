generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "mysql"
    url      = env("DATABASE_URL")
}

model Client {
    id              Int         @id @default(autoincrement())
    name            String      @unique
    address         String?     @db.Text
    email           String?
    projects        Project[]
}

model Project {
    id              Int         @id @default(autoincrement())
    name            String
    status          String
    client          Client      @relation(fields: [clientId], references: [id])
    clientId        Int
    tasks           Task[]
}

model Task {
    id              Int         @id @default(autoincrement())
    name            String
    currency        String
    price           Int
    rate            Int
    estimatedHours  Float
    project         Project     @relation(fields: [projectId], references: [id])
    projectId       Int
    times           Time[]
}

model Time {
    id              Int         @id @default(autoincrement())
    date            DateTime    @db.Date
    duration        DateTime    @db.Time
    task            Task        @relation(fields: [taskId], references: [id])
    taskId          Int
}